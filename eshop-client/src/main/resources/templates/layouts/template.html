<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
	<title layout:title-pattern="$LAYOUT_TITLE - $CONTENT_TITLE" th:text="${@environment.getProperty('application.title')}">E-Shop</title> 
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" media="all" th:href="@{/css/bootstrap.min.css}" />
	<link rel="stylesheet" type="text/css" media="all" th:href="@{/css/theme.css}" />
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ" crossorigin="anonymous">
	<link rel="stylesheet" type="text/css" media="all" th:href="@{/css/sticky-footer-navbar.css}" />
</head>
<body>
	<header th:replace="layouts/header :: header">...</header>
	 <!-- Begin page content -->
    <main role="main" class="container">
    	<div class="jumbotron">
        	<div class="container">
				<div class="row">
					<div class="col-lg-4 col-md-6 text-center">
	        			<img class="img-responsive" th:src="@{/images/logo.jpg}" 
			        		th:alt="${@environment.getProperty('application.title')}"
			        		th:title="${@environment.getProperty('application.title')}">
	        		</div>
	        		<div class="col-lg-4 col-md-6 text-center">
	        			<div th:each="phone : ${appInfo.phones}">
	        				<img class="img-responsive" th:src="@{|/images/${phone.type}.png|}" width="15" height="15">
	        				<strong th:text="${phone.number}"></strong>
	        			</div>
	        			<div th:text="${appInfo.workingDays.description}"></div>
	        		</div>
	        		<div class="col-lg-4 hidden-md">
	        			
	        		</div>
				</div>
			</div>
		</div>
		<div layout:fragment="content">
			<h1>Static content for prototyping purposes only</h1>
			<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.
				Praesent scelerisque neque neque, ac elementum quam dignissim
				interdum. Phasellus et placerat elit. Lorem ipsum dolor sit amet,
				consectetur adipiscing elit. Praesent scelerisque neque neque, ac
				elementum quam dignissim interdum. Phasellus et placerat elit.</p>
		</div>
	</main>
	<footer th:replace="layouts/footer :: footer">&copy; 2014 The Static Templates</footer>
	<script th:src="@{/js/jquery.min.js}"></script>
	<script th:src="@{/js/poppers.min.js}"></script>
	<script th:src="@{/js/bootstrap.min.js}"></script>
	<script>
		/* Resize margin-bottom if footer's height is changed */
		$(document).on('pageinit', function() {
			onPageResize();
			calculateRatings();
			updateCommentsCount();
		});
		$(document).ready(function() {
			onPageResize();
			$(window).resize(onPageResize);
			calculateRatings();
			updateCommentsCount();
		});
		function onPageResize() {
			var bodyMargin = $('body').css('margin-bottom');
			var footerHeight = $('footer').height();
			if (bodyMargin + 50 != footerHeight) {
				$("body").css('margin-bottom', footerHeight + 50);
			}
		}
		
		function calculateRatings() {
			$('.star-rating').each(function() {
				$stars = $(this).find('.fa-star');
				$stars.each(function(){
					if (Math.round($stars.siblings('input.rating-value').val()) >= parseInt($(this).data('rating'))) {
				      return $(this).addClass('active');
				    } else {
				      return $(this).removeClass('active');
					}
				});
			});
		}
		
		 
	    $.fn.buildCommentTitle = function(num, suffix) {
	      return num == 0 ? 'Нет отзывов' : num + ' ' + suffix;
	    }

	    $.fn.getCommentTitle = function(num) {
	      var str = '' + num;
	      if (str.endsWith('10') || str.endsWith('11') || str.endsWith('12') || str.endsWith('14')) {
	       return $.fn.buildCommentTitle(num, 'отзывов');
	      }
	      if (str.endsWith('1')) {
	       return $.fn.buildCommentTitle(num, 'отзыв');
	      }
	      if (str.endsWith('2') || str.endsWith('3') || str.endsWith('4')) {
	       return $.fn.buildCommentTitle(num, 'отзыва');
	      }
	      return $.fn.buildCommentTitle(num, 'отзывов');
	    }
	    
	    function updateCommentsCount() {
	    	$('.product-comments-count').each(function() {
	    		$(this).text($.fn.getCommentTitle($(this).data('value')));
	    	});
	    }
		
	</script>
</body>
</html>